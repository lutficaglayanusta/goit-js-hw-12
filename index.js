import{S as q,a as R,i}from"./assets/vendor-DWXSRYDZ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function o(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(t){if(t.ep)return;t.ep=!0;const s=o(t);fetch(t.href,s)}})();const h=document.querySelector(".gallery"),y=document.querySelector(".loader"),m=document.querySelector(".load-more"),v=new q(".gallery a",{captionsData:"alt",captionDelay:250}),p=r=>{const e=r.map(o=>`<li class="gallery-item">
                  <a href="${o.largeImageURL}">
                    <img src="${o.webformatURL}" width='360' height='200' alt="${o.tags}">
                  </a>
                  
                  <ul>
                      <li><b>Likes</b> ${o.likes}</li>
                      <li><b>Views</b> ${o.views}</li>
                      <li><b>Comments</b> ${o.comments}</li>
                      <li><b>Downloads</b> ${o.downloads}</li>
                  </ul>
                  
                  
              </li>`).join("");h.insertAdjacentHTML("beforeend",e),v.refresh()},$=()=>{h.innerHTML=""},f=()=>{y.style.display="block"},b=()=>{y.style.display="none"},w=()=>{m.style.display="block"},a=()=>{m.style.display="none"},E="51088577-7b521529318281431558696f8",L=async(r,e,o)=>{try{return(await R.get("https://pixabay.com/api/",{params:{key:E,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:o,page:e}})).data}catch(n){i.error({title:"Error",message:n.message,position:"topRight"})}},g=document.querySelector(".form"),P=document.querySelector(".load-more");document.querySelector(".loader");document.querySelector(".gallery");let u=1,l="";const S=40;let c=0;g.addEventListener("submit",async r=>{if(r.preventDefault(),u=1,$(),l=r.target.elements.search.value.trim(),l===""){i.error({title:"Error",message:"Please enter a search term",position:"topRight"}),a();return}a(),f();try{const e=await L(l,u,S);if(c=e.totalHits,e.hits.length===0){i.warning({title:"Warning",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),a();return}p(e.hits),c>e.hits.length&&w(),c<=e.hits.length&&(a(),i.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"}))}catch(e){i.error({title:"Error",message:e.message,position:"topRight"})}finally{b(),g.reset()}});P.addEventListener("click",async()=>{u+=1,a(),f();try{const r=await L(l,u,S);if(r.hits.length===0){i.warning({title:"Warning",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),a();return}p(r.hits);const e=document.querySelector(".gallery-item").getBoundingClientRect();window.scrollBy({top:e.height*2,behavior:"smooth"}),document.querySelectorAll(".gallery-item").length>=c?(a(),i.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"})):w()}catch(r){i.error({title:"Error",message:r.message,position:"topRight"})}finally{b()}});
//# sourceMappingURL=index.js.map
