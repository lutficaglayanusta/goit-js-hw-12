{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\n// Stil importu\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\n// Stil importu\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nconst button = document.querySelector('.load-more');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nexport const renderImages = images => {\n  loader.style.display = 'none';\n\n  if (images.hits.length === 0) {\n    iziToast.warning({\n      title: 'Warning',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    button.style.display = 'none';\n  } else {\n    const markup = images.hits\n      .map(\n        image => `<li class=\"gallery-item\">\n                  <a href=\"${image.largeImageURL}\">\n                    <img src=\"${image.webformatURL}\" width='360' height='200' alt=\"${image.tags}\">\n                  </a>\n                  \n                  <ul>\n                      <li><b>Likes</b> ${image.likes}</li>\n                      <li><b>Views</b> ${image.views}</li>\n                      <li><b>Comments</b> ${image.comments}</li>\n                      <li><b>Downloads</b> ${image.downloads}</li>\n                  </ul>\n                  \n                  \n              </li>`\n      )\n      .join('');\n    gallery.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n    button.style.display = 'block';\n\n    const galleryItem = document.querySelector('.gallery-item');\n\n    const rect = galleryItem.getBoundingClientRect();\n\n    window.scrollBy({ top: rect.height * 2, behavior: 'smooth' });\n  }\n};\n","import axios from 'axios';\n\nimport iziToast from 'izitoast';\n// Stil importu\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst api_key = '51088577-7b521529318281431558696f8';\n\n\n\nexport const fetchImages = async (input, page,per_page) => {\n  try {\n    console.log(page);\n    const response = await axios.get('https://pixabay.com/api/', {\n      params: {\n        key: api_key,\n        q: input,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: per_page,\n        page: page,\n      },\n    });\n\n    return response.data;\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: error.message,\n      position: 'topRight',\n    });\n  }\n};\n","import iziToast from 'izitoast';\n// Stil importu\nimport 'izitoast/dist/css/iziToast.min.css';\n// DokÃ¼mantasyonda belirtilen import\n\nimport { renderImages } from './js/render-functions.js';\nimport { fetchImages } from './js/pixabay-api.js';\n\nconst form = document.querySelector('.form');\n\nconst button = document.querySelector('.load-more');\nconst loader1 = document.querySelector('.loader1');\nconst loader = document.querySelector('.loader');\nconst gallery = document.querySelector('.gallery');\n\nlet page = 1;\nlet input;\nconst per_page = 40;\n\nform.addEventListener('submit', async e => {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  page = 1;\n\n  input = e.target.elements.search.value.trim();\n\n  if (input === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search term',\n      position: 'topRight',\n    });\n    button.style.display = 'none';\n  } else {\n    loader.style.display = 'block';\n\n    const images = await fetchImages(input, page,per_page);\n\n    renderImages(images);\n  }\n\n  form.reset();\n});\n\nbutton.addEventListener('click', async () => {\n  page += 1;\n\n  loader1.style.display = 'block';\n\n  const images = await fetchImages(input, page,per_page);\n\n\n  loader1.style.display = 'none';\n\n  renderImages(images);\n \n\n  const totalPages = Math.ceil(images.totalHits / per_page);\n\n  if (page >= totalPages) {\n    iziToast.warning({\n      title: 'Warning',\n      message: \"We're sorry, but you've reached the end of search results\",\n      position: 'topRight',\n    });\n    button.style.display = 'none';\n  }\n});\n"],"names":["gallery","loader","button","lightbox","SimpleLightbox","renderImages","images","iziToast","markup","image","rect","api_key","fetchImages","input","page","per_page","axios","error","form","loader1","e","totalPages"],"mappings":"owBAOA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAS,SAAS,cAAc,YAAY,EAE5CC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEYC,EAAeC,GAAU,CAGpC,GAFAL,EAAO,MAAM,QAAU,OAEnBK,EAAO,KAAK,SAAW,EACzBC,EAAS,QAAQ,CACf,MAAO,UACP,QACE,2EACF,SAAU,UAChB,CAAK,EACDL,EAAO,MAAM,QAAU,WAClB,CACL,MAAMM,EAASF,EAAO,KACnB,IACCG,GAAS;AAAA,6BACYA,EAAM,aAAa;AAAA,gCAChBA,EAAM,YAAY,mCAAmCA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,yCAItDA,EAAM,KAAK;AAAA,yCACXA,EAAM,KAAK;AAAA,4CACRA,EAAM,QAAQ;AAAA,6CACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,oBAKrD,EACA,KAAK,EAAE,EACVT,EAAQ,mBAAmB,YAAaQ,CAAM,EAC9CL,EAAS,QAAO,EAChBD,EAAO,MAAM,QAAU,QAIvB,MAAMQ,EAFc,SAAS,cAAc,eAAe,EAEjC,wBAEzB,OAAO,SAAS,CAAE,IAAKA,EAAK,OAAS,EAAG,SAAU,QAAQ,CAAE,CAC7D,CACH,EClDMC,EAAU,qCAIHC,EAAc,MAAOC,EAAOC,EAAKC,IAAa,CACzD,GAAI,CACF,eAAQ,IAAID,CAAI,GACC,MAAME,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAKL,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUE,EACV,KAAMD,CACP,CACP,CAAK,GAEe,IACjB,OAAQG,EAAO,CACdV,EAAS,MAAM,CACb,MAAO,QACP,QAASU,EAAM,QACf,SAAU,UAChB,CAAK,CACF,CACH,ECzBMC,EAAO,SAAS,cAAc,OAAO,EAErChB,EAAS,SAAS,cAAc,YAAY,EAC5CiB,EAAU,SAAS,cAAc,UAAU,EAC3ClB,EAAS,SAAS,cAAc,SAAS,EACzCD,EAAU,SAAS,cAAc,UAAU,EAEjD,IAAIc,EAAO,EACPD,EACJ,MAAME,EAAW,GAEjBG,EAAK,iBAAiB,SAAU,MAAME,GAAK,CAOzC,GANAA,EAAE,eAAc,EAChBpB,EAAQ,UAAY,GACpBc,EAAO,EAEPD,EAAQO,EAAE,OAAO,SAAS,OAAO,MAAM,OAEnCP,IAAU,GACZN,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACT,SAAU,UAChB,CAAK,EACDL,EAAO,MAAM,QAAU,WAClB,CACLD,EAAO,MAAM,QAAU,QAEvB,MAAMK,EAAS,MAAMM,EAAYC,EAAOC,EAAKC,CAAQ,EAErDV,EAAaC,CAAM,CACpB,CAEDY,EAAK,MAAK,CACZ,CAAC,EAEDhB,EAAO,iBAAiB,QAAS,SAAY,CAC3CY,GAAQ,EAERK,EAAQ,MAAM,QAAU,QAExB,MAAMb,EAAS,MAAMM,EAAYC,EAAOC,EAAKC,CAAQ,EAGrDI,EAAQ,MAAM,QAAU,OAExBd,EAAaC,CAAM,EAGnB,MAAMe,EAAa,KAAK,KAAKf,EAAO,UAAYS,CAAQ,EAEpDD,GAAQO,IACVd,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,4DACT,SAAU,UAChB,CAAK,EACDL,EAAO,MAAM,QAAU,OAE3B,CAAC"}